{"version":3,"sources":["redux/dialogs-reducer.js","api/api.js","img/Spinner-1s-200px.svg","hoc/withAuthRedirect.js","redux/users-reducer.js","serviceWorker.js","redux/sidebar-reducer.js","redux/auth-reducer.js","redux/app-reducer.js","redux/redux-store.js","components/Navbar/Navbar.jsx","components/News/News.jsx","components/MusicComp/MusicComp.jsx","components/Settings/Settings.jsx","components/common/Paginator/Paginator.jsx","components/users/User.jsx","components/users/Users.jsx","redux/users-selectors.js","components/users/UsersContainer.jsx","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/login/login.jsx","hoc/withSuspense.js","App.js","index.js","components/Navbar/Navbar.module.css","components/common/FormsControls/FormsControls.module.css","components/common/Preloader/Preloader.js","components/common/Paginator/Paginator.module.css","components/Header/Header.module.css","components/common/FormsControls/FormsControls.js","utils/validators/validators.js","components/users/users.module.css","img/user2.png","redux/profile-reducer.js"],"names":["initialState","dialogsData","id","name","messagesData","message","sendMessageCreator","newMessageText","type","dialogsReducer","state","action","messageText","instance","Axios","create","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSise","get","then","response","data","unfollow","delete","follow","post","getProfile","userId","console","warn","profileAPI","getStatus","updateStatus","status","put","authAPI","giveMe","login","email","password","rememberMe","logout","module","exports","withAuthRedirect","Component","RedirectComponent","this","props","isAuth","to","React","connect","auth","users","pageSize","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","setCurrentPage","toogleIsFetching","toogleFollowing","getUserThunkCreator","page","dispatch","a","items","totalCount","followUnfollowFlow","apiMethod","actionCreator","resultCode","bind","usersReducer","map","u","followed","filter","Boolean","window","location","hostname","match","sidebarReducer","setUserAuthData","payload","getUserData","authReducer","initialized","appReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","sidebar","usersPage","form","formReducer","app","store","createStore","applyMiddleware","thunkMiddlewear","Navbar","className","classes","nav","activeClassName","active","News","MusicComp","Settings","Paginator","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","styles","paginatorWrap","onClick","p","cn","selectedPage","User","user","src","photos","small","userPhtot","usersPhoto","alt","disabled","some","Users","key","getPageSise","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","pageNumber","compose","Header","s","header","loginBlock","logOut","HeaderContainer","LoginReduxForm","reduxForm","handleSubmit","error","onSubmit","Field","component","Input","placeholder","validate","required","htmlFor","style","summaryError","logIn","messages","length","stopSubmit","_error","formData","withSuspense","Suspense","fallback","Preloader","ProfileContainer","lazy","DialogsContainer","App","initializeApp","path","render","withRouter","ReactDOM","basename","process","document","getElementById","navigator","serviceWorker","ready","registration","unregister","preload","TextArea","input","meta","touched","hasError","formControl","value","maxLengthCreator","maxLength","postData","likes","profile","addPostActionCreator","newPostText","setStatus","getUserProfile","newPost"],"mappings":"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","file":"static/js/main.ea9af0ca.chunk.js","sourcesContent":["const SEND_MESSAGE = 'SEND-MESSAGE';\r\n\r\nlet initialState = {\r\n    dialogsData: [\r\n        { id: 1, name: 'Stas' },\r\n        { id: 2, name: 'Snegana' },\r\n        { id: 3, name: 'Andrey' },\r\n        { id: 4, name: 'Denis' },\r\n        { id: 5, name: 'Anna' }\r\n    ],\r\n    messagesData: [\r\n        { id: 1, message: 'Hello' },\r\n        { id: 2, message: 'I am here!' },\r\n        { id: 3, message: 'How are you?' }\r\n    ]\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case SEND_MESSAGE: {\r\n            let messageText = action.newMessageText;\r\n            return {\r\n                ...state,\r\n                messagesData: [...state.messagesData, { id: 4, message: messageText }]\r\n            };\r\n        }\r\n\r\n        default:\r\n            break;\r\n    }\r\n\r\n    return state;\r\n}\r\n\r\nexport const sendMessageCreator = (newMessageText) => ({ type: SEND_MESSAGE, newMessageText })\r\n\r\nexport default dialogsReducer;","import Axios from \"axios\";\r\nimport { follow } from \"../redux/users-reducer\";\r\n\r\nconst instance = Axios.create(          //создаём шаблон аксиоса, что бы не повторять код.\r\n    {\r\n        withCredentials: true,      //параметр говорит что мы зарегистрированный пользователь а не анонимный\r\n        baseURL: 'https://social-network.samuraijs.com/api/1.0/',   //базовый URL, автоматически приклеивается к строке\r\n        headers: {\r\n            'API-KEY': 'cdb1b45e-d0ad-45c3-9f3d-70b21a8f94df'\r\n        }\r\n    }\r\n);\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage, pageSise) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSise}`)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n    unfollow(id) {\r\n        return instance.delete(`follow/${id}`)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n    follow(id) {\r\n        return instance.post(`follow/${id}`)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n    getProfile(userId) {\r\n        console.warn('Please use new profileAPI object');\r\n        return profileAPI.getProfile(userId);\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/${userId}`);\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/${userId}`);\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status/`, { status: status });\r\n\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    giveMe() {\r\n        return instance.get(`auth/me`);\r\n    },\r\n    login(email, password, rememberMe = false) {\r\n        return instance.post(`auth/login`, { email, password, rememberMe });\r\n    },\r\n    logout(email, password, rememberMe = false) {\r\n        return instance.delete(`auth/login`);\r\n    }\r\n}","module.exports = __webpack_public_path__ + \"static/media/Spinner-1s-200px.72d99cf9.svg\";","import React from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\n\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to={'/login'} />            //редирект если не залогинены\r\n            return <Component {...this.props} />\r\n        }\r\n    }\r\n    let mapStateToPropsForRedirect = (state => ({\r\n        isAuth: state.auth.isAuth\r\n    }));\r\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n    return ConnectedAuthRedirectComponent;\r\n}","import { usersAPI } from \"../api/api\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_COUNT = 'SET_TOTAL_COUNT';\r\nconst TOOGLE_IS_FETCHING = 'TOOGLE_IS_FETCHING';\r\nconst TOOGLE_IS_FOLLOWING = 'TOOGLE_IS_FOLLOWING';\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 5,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: []\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userId) {\r\n                        return { ...u, followed: true }\r\n\r\n                    }\r\n                    return u;\r\n                })\r\n            };\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userId) {\r\n                        return { ...u, followed: false }\r\n                    }\r\n                    return u;\r\n                })\r\n            };\r\n        case SET_USERS: {\r\n            return { ...state, users: [...action.users] }\r\n        }\r\n        case SET_CURRENT_PAGE: {\r\n            return { ...state, currentPage: action.currentPage }\r\n        }\r\n        case SET_TOTAL_COUNT: {\r\n            return { ...state, totalUsersCount: action.totalUsersCount }\r\n        }\r\n        case TOOGLE_IS_FETCHING: {\r\n            return { ...state, isFetching: action.isFetching }\r\n        }\r\n        case TOOGLE_IS_FOLLOWING: {\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.followingInProgress\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : [...state.followingInProgress.filter(id => id !== action.userId)]\r\n            }\r\n        }\r\n\r\n        default:\r\n            break;\r\n    }\r\n\r\n    return state;\r\n}\r\n\r\nexport const followSuccess = (userId) => ({ type: FOLLOW, userId });\r\nexport const unfollowSuccess = (userId) => ({ type: UNFOLLOW, userId });\r\nexport const setUsers = (users) => ({ type: SET_USERS, users });\r\nexport const setCurrentPage = (currentPage) => ({ type: SET_CURRENT_PAGE, currentPage: currentPage });\r\nexport const setTotalUsersCount = (totalUsersCount) => ({ type: SET_TOTAL_COUNT, totalUsersCount });\r\nexport const toogleIsFetching = (isFetching) => ({ type: TOOGLE_IS_FETCHING, isFetching });\r\nexport const toogleFollowing = (followingInProgress, userId) => ({ type: TOOGLE_IS_FOLLOWING, followingInProgress, userId });\r\n\r\nexport const getUserThunkCreator = (page, pageSise) => {   //создаем thukn креатор который пирнимает параметры\r\n\r\n    return async (dispatch) => {      //сам thunk\r\n\r\n        dispatch(toogleIsFetching(true));\r\n        dispatch(setCurrentPage(page));\r\n\r\n        let response = await usersAPI.getUsers(page, pageSise);\r\n\r\n        dispatch(toogleIsFetching(false));\r\n        dispatch(setUsers(response.items));\r\n        dispatch(setTotalUsersCount(response.totalCount));\r\n    }\r\n}\r\n\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {              //функция рефакторинга(сократили код follow/unfollow санок)\r\n\r\n    dispatch(toogleFollowing(true, userId));\r\n\r\n    let response = await apiMethod(userId);\r\n    if (response.resultCode === 0) {\r\n        dispatch(actionCreator(userId))\r\n    }\r\n    dispatch(toogleFollowing(false, userId));\r\n}\r\n\r\n\r\nexport const follow = (userId) => {   //создаем thunk креатор который пирнимает параметры\r\n\r\n    return async (dispatch) => {      //сам thunk       \r\n\r\n        let apiMethod = usersAPI.follow.bind(usersAPI);\r\n        let actionCreator = followSuccess;\r\n\r\n        followUnfollowFlow(dispatch, userId, apiMethod, actionCreator);\r\n    }\r\n}\r\n\r\nexport const unfollow = (userId) => {   //создаем thunk креатор который пирнимает параметры\r\n\r\n    return async (dispatch) => {      //сам thunk\r\n\r\n        let apiMethod = usersAPI.unfollow.bind(usersAPI);\r\n        let actionCreator = unfollowSuccess;\r\n\r\n        followUnfollowFlow(dispatch, userId, apiMethod, actionCreator);\r\n    }\r\n}\r\n\r\nexport default usersReducer;","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","let initialState = {}\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n\r\n    return state;\r\n}\r\n\r\nexport default sidebarReducer;","import { authAPI } from \"../api/api\";\r\nimport { stopSubmit } from 'redux-form';\r\nconst SET_USER_DATA = 'SET_USER_DATA';\r\n\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isFetching: true,\r\n    isAuth: false\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            };\r\n        default:\r\n            break;\r\n    }\r\n\r\n    return state;\r\n}\r\n\r\nexport const setUserAuthData = (userId, email, login, isAuth) => ({ type: SET_USER_DATA, payload: { userId, email, login, isAuth } });\r\n\r\nexport const getUserData = () => async (dispatch) => {\r\n\r\n    let response = await authAPI.giveMe()\r\n\r\n    if (response.data.resultCode === 0) {\r\n        let { id, email, login } = response.data.data;\r\n        dispatch(setUserAuthData(id, email, login, true));\r\n    }\r\n};\r\n\r\nexport const logIn = (email, password, rememberMe) => async (dispatch) => {\r\n\r\n    let response = await authAPI.login(email, password, rememberMe)\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getUserData());\r\n    } else {\r\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : \"Some error\";\r\n        dispatch(stopSubmit('login', { _error: message }));          //stopSubmit - action из редакс-форм, указываем назване формы, вторым параметром ошибочное поле\r\n    }\r\n\r\n};\r\n\r\nexport const logOut = (email, password, rememberMe) => async (dispatch) => {\r\n\r\n    let response = await authAPI.logout();\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setUserAuthData(null, null, null, false))\r\n    }\r\n};\r\n\r\nexport default authReducer;","import { authAPI } from \"../api/api\";\r\nimport { stopSubmit } from 'redux-form';\r\nimport { getUserData } from \"./auth-reducer\";\r\n\r\nconst SET_INITIALIZED = 'SET_INITIALIZED';\r\n\r\n\r\nlet initialState = {\r\n    initialized: false\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n\r\n        case SET_INITIALIZED:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            };\r\n        default:\r\n            break;\r\n    }\r\n\r\n    return state;\r\n}\r\n\r\nexport const initializedSuccess = () => ({ type: SET_INITIALIZED });\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n\r\n    let promise = dispatch(getUserData());\r\n    promise.then(() => {\r\n        dispatch(initializedSuccess());\r\n    })\r\n\r\n};\r\n\r\n\r\n\r\nexport default appReducer;","import { createStore, combineReducers, applyMiddleware } from \"redux\";\r\nimport sidebarReducer from \"./sidebar-reducer\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddlewear from 'redux-thunk';\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport appReducer from \"./app-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n});\r\nlet store = createStore(reducers, applyMiddleware(thunkMiddlewear));\r\n\r\nwindow.store = store;\r\n\r\nexport default store;","import React from 'react';\r\nimport classes from './Navbar.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst Navbar = () => {\r\n    return (\r\n        <nav className={classes.nav}>\r\n            <ul>\r\n                <li>\r\n                    <NavLink to=\"/profile\" activeClassName={classes.active}>\r\n                        Profile\r\n                    </NavLink>\r\n                </li>\r\n                <li>\r\n                    <NavLink to=\"/dialogs\" activeClassName={classes.active}>\r\n                        Messages\r\n                    </NavLink>\r\n                </li>\r\n                <li>\r\n                    <NavLink to=\"/news\" activeClassName={classes.active}>\r\n                        News\r\n                    </NavLink>\r\n                </li>\r\n                <li>\r\n                    <NavLink to=\"/music\" activeClassName={classes.active}>\r\n                        Music\r\n                    </NavLink>\r\n                </li>\r\n                <li>\r\n                    <NavLink to=\"/users\" activeClassName={classes.active}>\r\n                        Find users\r\n                    </NavLink>\r\n                </li>\r\n                <li>\r\n                    <NavLink to=\"/settings\" activeClassName={classes.active}>\r\n                        Settings\r\n                    </NavLink>\r\n                </li>\r\n            </ul>\r\n        </nav>\r\n    );\r\n};\r\nexport default Navbar;\r\n","import React from 'react';\r\n// import classes from './Dialogs.module.css';\r\n\r\nconst News = () => {\r\n    return <div>News</div>;\r\n};\r\nexport default News;\r\n","import React from 'react';\r\n// import classes from './Dialogs.module.css';\r\n\r\nconst MusicComp = () => {\r\n    return <div>Music</div>;\r\n};\r\nexport default MusicComp;\r\n","import React from 'react';\r\n// import classes from './Dialogs.module.css';\r\n\r\nconst Settings = () => {\r\n    return <div>Settings</div>;\r\n};\r\nexport default Settings;\r\n","import React, { useState } from 'react';\r\nimport styles from './Paginator.module.css';\r\nimport cn from 'classnames';\r\n\r\nlet Paginator = ({ totalUsersCount, pageSise, currentPage, onPageChanged, portionSize = 10 }) => {\r\n\r\n    let pagesCount = Math.ceil(totalUsersCount / pageSise);\r\n    let pages = [];\r\n    for (let i = 1; i < pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n    return (\r\n\r\n        <div className={styles.paginatorWrap}>\r\n            {portionNumber > 1 && <span onClick={() => { setPortionNumber(portionNumber - 1) }}>&#60;</span>\r\n            }\r\n\r\n            {\r\n                pages.filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n                    .map((p) => {\r\n                        return <span className={cn(styles.pages, { [styles.selectedPage]: currentPage === p })}\r\n                            onClick={() => { onPageChanged(p) }}>{p}</span>\r\n                    })\r\n            }\r\n            {portionCount > portionNumber && <span onClick={() => { setPortionNumber(portionNumber + 1) }}>&#62;</span>\r\n            }\r\n\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Paginator;","import React from 'react';\r\nimport styles from './users.module.css';\r\nimport userPhtot from '../../img/user2.png';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nlet User = ({ user, followingInProgress, unfollow, follow }) => {\r\n    return (\r\n        <div>\r\n            <span>\r\n                <div>\r\n                    <NavLink to={'/profile/' + user.id}>\r\n                        <img src={user.photos.small != null ? user.photos.small : userPhtot} className={styles.usersPhoto} alt='avatar' />\r\n                    </NavLink>\r\n                </div>\r\n                <div>\r\n                    {user.followed\r\n                        ? <button disabled={followingInProgress.some(id => id === user.id)} onClick={() => {\r\n                            unfollow(user.id);\r\n                        }}>Unfollow</button>\r\n                        : <button disabled={followingInProgress.some(id => id === user.id)} onClick={() => {\r\n                            follow(user.id);\r\n                        }}>Follow</button>}\r\n                </div>\r\n            </span>\r\n            <span>\r\n                <span>\r\n                    <div>{user.name}</div>\r\n                    <div>{user.status}</div>\r\n                </span>\r\n                <span>\r\n                    <div>{'u.location.country'}</div>\r\n                    <div>{'u.location.city'}</div>\r\n                </span>\r\n            </span>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default User;","import React from 'react';\r\nimport styles from './users.module.css';\r\nimport userPhtot from '../../img/user2.png';\r\nimport { NavLink } from 'react-router-dom';\r\nimport Paginator from '../common/Paginator/Paginator';\r\nimport User from './User';\r\n\r\nlet Users = ({ totalUsersCount, pageSise, currentPage, onPageChanged, users, followingInProgress, follow, unfollow, ...props }) => {\r\n    let pagesCount = Math.ceil(props.totalUsersCount / props.pageSise);\r\n    let pages = [];\r\n    for (let i = 1; i < pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n    // console.log(props.pageSise)\r\n    return (\r\n        <div>\r\n            <Paginator currentPage={currentPage} onPageChanged={onPageChanged} totalUsersCount={totalUsersCount} pageSise={pageSise} />\r\n            <div>\r\n                {\r\n                    users.map(u => <User user={u} key={u.id} followingInProgress={followingInProgress} follow={follow} unfollow={unfollow} />)\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Users;","export const getUsers = (state) => {\r\n    return state.usersPage.users;\r\n}\r\n\r\nexport const getPageSise = (state) => {\r\n    return state.usersPage.pageSize;\r\n}\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount;\r\n}\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage;\r\n}\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching;\r\n}\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress;\r\n}","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Users from './Users';\r\nimport { follow, unfollow, setCurrentPage, toogleFollowing, getUserThunkCreator } from '../../redux/users-reducer';\r\nimport Preloader from '../common/Preloader/Preloader';\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\r\nimport { compose } from 'C:/Users/Стас/AppData/Local/Microsoft/TypeScript/3.6/node_modules/redux';\r\nimport { getUsers, getPageSise, getTotalUsersCount, getCurrentPage, getIsFetching, getFollowingInProgress } from '../../redux/users-selectors';\r\n\r\nclass UsersContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        let { currentPage, pageSise } = this.props;\r\n        this.props.getUserThunkCreator(currentPage, pageSise);\r\n        // })\r\n    }\r\n    onPageChanged = (pageNumber) => {\r\n        let { pageSise } = this.props;\r\n        this.props.getUserThunkCreator(pageNumber, pageSise);\r\n\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n            {/* {this.props.isFetching ? <div>\r\n                <Preloader />\r\n            </div> : null} */}\r\n            <Users totalUsersCount={this.props.totalUsersCount}\r\n                pageSise={this.props.pageSise}\r\n                currentPage={this.props.currentPage}\r\n                onPageChanged={this.onPageChanged}\r\n                users={this.props.users}\r\n                follow={this.props.follow}\r\n                unfollow={this.props.unfollow}\r\n                toogleFollowing={this.props.toogleFollowing}\r\n                followingInProgress={this.props.followingInProgress}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSise: getPageSise(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    }\r\n}\r\n// let mapStateToProps = (state) => {\r\n//     return {\r\n//         users: state.usersPage.users,\r\n//         pageSise: state.usersPage.pageSize,\r\n//         totalUsersCount: state.usersPage.totalUsersCount,\r\n//         currentPage: state.usersPage.currentPage,\r\n//         isFetching: state.usersPage.isFetching,\r\n//         followingInProgress: state.usersPage.followingInProgress\r\n//     }\r\n// }\r\n\r\n\r\n// let mapDispatchToProps = (dispatch) => {               Диспатч как он работает, без сокращения.                      \r\n//     return {\r\n//         follow: (userId) => {\r\n//             dispatch(followAC(userId));\r\n//         },\r\n//         unfollow: (userId) => {\r\n//             dispatch(unfollowAC(userId));\r\n//         },\r\n//         setUsers: (users) => {\r\n//             dispatch(setUsersAC(users));\r\n//         },\r\n//         setCurrentPage: (pageNumber) => {\r\n//             dispatch(setCurrentPageAC(pageNumber));\r\n//         },\r\n//         setTotalUsersCount: (totalCount) => {\r\n//             dispatch(setUsersTotalCountAC(totalCount));\r\n//         },\r\n//         toogleIsFetching: (isFetching) => {\r\n//             dispatch(toogleIsFetchingAC(isFetching));\r\n//         }\r\n//     }\r\n// }\r\n// export default withAuthRedirect(connect(mapStateToProps,\r\n//     {\r\n//         follow, unfollow, setCurrentPage, toogleFollowing, getUserThunkCreator\r\n//     })(UsersContainer));\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, { follow, unfollow, setCurrentPage, toogleFollowing, getUserThunkCreator })\r\n)(UsersContainer);","import React from 'react';\r\nimport s from './Header.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst Header = (props) => {\r\n    return (\r\n        <header className={s.header}>\r\n            <img\r\n                src=\"https://i.dlpng.com/static/png/4324051-group-of-people-in-a-formation-svg-png-icon-free-download-38224-icons-people-png-980_808_preview.png\"\r\n                alt=\"logo\"\r\n            />\r\n            <div className={s.name}>\r\n                <p>Social Network</p>\r\n            </div>\r\n            <div className={s.loginBlock}>\r\n                {props.isAuth\r\n                    ? <div>\r\n                        <span>{props.login} </span> <button onClick={props.logOut}>Logout</button>\r\n                    </div>\r\n                    : <NavLink to={'/login'}>Login</NavLink>}\r\n\r\n            </div>\r\n        </header>\r\n    );\r\n};\r\nexport default Header;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Header from './Header';\r\nimport Axios from 'axios';\r\nimport { logOut } from '../../redux/auth-reducer';\r\n\r\nimport Preloader from '../common/Preloader/Preloader';\r\nimport { authAPI } from '../../api/api';\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n    render() {\r\n        return (\r\n            <Header {...this.props} />\r\n        )\r\n    }\r\n};\r\nconst mapStateToProps = state => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login\r\n})\r\nexport default connect(mapStateToProps, { logOut })(HeaderContainer);","import React from 'react';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { Input } from '../common/FormsControls/FormsControls';\r\nimport { required } from '../../utils/validators/validators';\r\nimport { connect } from 'react-redux';\r\nimport { logIn } from '../../redux/auth-reducer';\r\nimport { Redirect } from 'react-router-dom';\r\nimport style from \"../common/FormsControls/FormsControls.module.css\"\r\n\r\nconst LoginForm = ({ handleSubmit, error }) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            <div>\r\n                <Field type=\"text\" component={Input} placeholder={\"Email\"} name={'email'}\r\n                    validate={[required]} />\r\n            </div>\r\n            <div>\r\n                <Field type=\"password\" component={Input} placeholder={\"Password\"} name={'password'}\r\n                    validate={[required]} />\r\n            </div>\r\n            <div>\r\n                <Field type=\"checkbox\" component=\"input\" placeholder={\"Password\"} name={'rememberMe'} id=\"rememberMe\" />\r\n                <label htmlFor=\"rememberMe\">remember me</label>\r\n            </div>\r\n            {error && <div className={style.summaryError}>\r\n                {error}\r\n            </div>\r\n            }\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n    );\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({\r\n    // a unique name for the form\r\n    form: 'login'\r\n})(LoginForm)\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.logIn(formData.email, formData.password, formData.rememberMe);\r\n    }\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to={\"/profile\"} />\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h1>Login</h1>\r\n            <LoginReduxForm onSubmit={onSubmit} />\r\n        </div>\r\n    );\r\n\r\n}\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default connect(mapStateToProps, { logIn })(Login);","import React from 'react';\r\nimport Preloader from '../components/common/Preloader/Preloader';\r\n\r\n\r\n\r\nexport const withSuspense = (Component) => {\r\n\r\n    return (props) => {\r\n        // eslint-disable-next-line no-unused-expressions\r\n        return <React.Suspense fallback={<Preloader />}>\r\n            <Component {...props} />\r\n        </React.Suspense>\r\n    };\r\n}","import React, { Suspense } from 'react';\r\nimport { Route } from 'react-router-dom';\r\nimport './App.css';\r\nimport Navbar from './components/Navbar/Navbar';\r\nimport News from './components/News/News';\r\nimport MusicComp from './components/MusicComp/MusicComp';\r\nimport Settings from './components/Settings/Settings';\r\nimport UsersContainer from './components/users/UsersContainer';\r\nimport HeaderContainer from './components/Header/HeaderContainer';\r\nimport Login from './components/login/login';\r\nimport { initializeApp } from './redux/app-reducer';\r\nimport { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport Preloader from './components/common/Preloader/Preloader';\r\nimport { withSuspense } from './hoc/withSuspense';\r\n\r\n// import ProfileContainer from './components/Profile/ProfileContainer';\r\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));         //Ленивая загрузка данных компонента, загружается только после перехода.\r\n// import DialogsContainer from './components/Dialogs/DialogsContainer';\r\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));         ////Ленивая загрузка данных компонента, загружается только после перехода.\r\n\r\nclass App extends React.Component {\r\n\r\n    componentDidMount() {\r\n        this.props.initializeApp()        //thunk вызываем\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.initialized) {\r\n            return <Preloader />\r\n        }\r\n        return (\r\n            <div className='app-wrapper'>\r\n                <HeaderContainer />\r\n                <Navbar />\r\n                <div className='app-wrapper-content'>\r\n                    {/* <Route path=\"/dialogs\" component={Dialogs} />\r\n                        <Route path=\"/profile\" component={Profile} /> */}\r\n                    <Route path='/dialogs' render={withSuspense(DialogsContainer)} />       {/* Обернули комопнент в Suspense в хоке */}\r\n\r\n                    {/* return (\r\n                             <Suspense fallback={<div>Загрузка...</div>}>            \r\n                                 <DialogsContainer />\r\n                             </Suspense>\r\n                         )\r\n                    }} /> */}\r\n                    <Route path='/profile/:userId?' render={withSuspense(ProfileContainer)} />       {/* Обернули комопнент в Suspense в хоке */}\r\n                    {/* <Route path='/profile/:userId?' render={() => {\r\n                        return (\r\n                            <Suspense fallback={<div>Загрузка...</div>}>\r\n                                <ProfileContainer />\r\n                            </Suspense>\r\n                        )\r\n                    }} /> */}\r\n                    <Route path='/users' render={() => <UsersContainer />} />\r\n                    <Route path='/news' component={News} />\r\n                    <Route path='/music' component={MusicComp} />\r\n                    <Route path='/settings' component={Settings} />\r\n                    <Route path='/login' render={() => <Login />} />\r\n                </div>\r\n\r\n                <footer className='footer'>Footer</footer>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nconst mapStateToProps = (state) => ({\r\n    initialized: state.app.initialized\r\n})\r\nexport default compose(\r\n    withRouter,\r\n    connect(mapStateToProps, { initializeApp }))(App);\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport store from './redux/redux-store';\r\nimport './index.css';\r\nimport App from './App';\r\nimport { Provider } from 'react-redux';\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\nReactDOM.render(\r\n    <BrowserRouter basename={process.env.PUBLIC_URL}>\r\n        <Provider store={store}>\r\n            <App />\r\n        </Provider >\r\n    </BrowserRouter>,\r\n    document.getElementById('root'));\r\n\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__1XGQ7\",\"active\":\"Navbar_active__8jZM6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form-control\":\"FormsControls_form-control__VdBLK\",\"error\":\"FormsControls_error__3Np_D\",\"formControl\":\"FormsControls_formControl__2hgDU\",\"summaryError\":\"FormsControls_summaryError__cgjqZ\"};","import preload from '../../../img/Spinner-1s-200px.svg'\r\nimport React from 'react';\r\n\r\nlet Preloader = (props) => {\r\n    return <div>\r\n        <img src={preload} alt=\"load\" />\r\n    </div>\r\n\r\n}\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedPage\":\"Paginator_selectedPage__1Bx92\",\"paginatorWrap\":\"Paginator_paginatorWrap__vzUyf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3ZhBW\",\"name\":\"Header_name__1WDOG\",\"loginBlock\":\"Header_loginBlock__2cKBE\"};","import React from 'react';\r\nimport styles from './FormsControls.module.css';\r\n\r\nexport const TextArea = ({ input, meta: { touched, error }, ...props }) => {\r\n    const hasError = touched && error;\r\n    return (\r\n        <div className={styles.formControl + \" \" + (hasError ? styles.error : '')}>\r\n            <textarea {...input} {...props} />\r\n            <div>\r\n                {hasError && <span>Some error</span>}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Input = ({ input, meta: { touched, error }, ...props }) => {\r\n    const hasError = touched && error;\r\n    return (\r\n        <div className={styles.formControl + \" \" + (hasError ? styles.error : '')}>\r\n            <input {...input} {...props} />\r\n            <div>\r\n                {hasError && <span>Some error</span>}\r\n            </div>\r\n        </div>\r\n    )\r\n}","export const required = value => {\r\n    if (value) return undefined;\r\n    return \"Field is required\";\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => value => {               //creator валидатора а не сам валидатор\r\n    if (value && value.length > maxLength) return 'Max length is 30 symbols';\r\n    return undefined;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersPhoto\":\"users_usersPhoto__2BWgx\"};","module.exports = \"data:image/png;base64,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\"","import { usersAPI, profileAPI } from \"../api/api\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = \"SET_USER_PROFILE\";\r\nconst SET_STATUS = \"SET_STATUS\";\r\n\r\nlet initialState = {\r\n    postData: [\r\n        { id: 1, message: 'Hi, how are you?', likes: 15 },\r\n        { id: 2, message: \"It's my first post\", likes: 37 },\r\n        { id: 3, message: 'Wazzzzaaaaaaaaa', likes: 42 }\r\n    ],\r\n    profile: null,\r\n    status: ''\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            let newPost = {\r\n                id: 5,\r\n                message: action.newPostText,\r\n                likes: 0\r\n            };\r\n            return {\r\n                ...state,\r\n                postData: [...state.postData, newPost]\r\n            };\r\n\r\n        case SET_USER_PROFILE: {\r\n            return {\r\n                ...state, profile: action.profile\r\n            };\r\n        }\r\n        case SET_STATUS: {\r\n            return {\r\n                ...state, status: action.status\r\n            };\r\n        }\r\n        default:\r\n            break;\r\n    }\r\n\r\n    return state;\r\n}\r\n\r\nexport const addPostActionCreator = (newPostText) => ({ type: ADD_POST, newPostText })\r\n\r\nexport const setUserProfile = (profile) => ({ type: SET_USER_PROFILE, profile })\r\nexport const setStatus = (status) => ({ type: SET_STATUS, status })\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {           //thunk creator\r\n\r\n    let response = await usersAPI.getProfile(userId)\r\n\r\n    dispatch(setUserProfile(response.data));\r\n\r\n}\r\nexport const getStatus = (userId) => async (dispatch) => {           //thunk creator\r\n\r\n    let response = await profileAPI.getStatus(userId)\r\n\r\n    dispatch(setStatus(response.data));\r\n\r\n}\r\nexport const updateStatus = (status) => async (dispatch) => {           //thunk creator\r\n\r\n    let response = await profileAPI.updateStatus(status)\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setStatus(status));\r\n    }\r\n\r\n}\r\n\r\n\r\nexport default profileReducer;"],"sourceRoot":""}